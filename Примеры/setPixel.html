<canvas id="canvas" width="1024" height="1024"></canvas>

<script>
    var cnv = document.getElementById("canvas");
    var ctx = cnv.getContext("2d");

    var width = cnv.width;
    var height = cnv.height;
    var Xmax = width; Ymax = height;

    var imgData = ctx.getImageData(1, 1, width, height);
    var data = imgData.data;

    for (let X = 0; X < 100; X++) {
        for (let Y = 0; Y < 100; Y++)
            setPixel(X, Y, 255, 0, 0);
    }

    ctx.putImageData(imgData, 1, 1);


function setPixel(X, Y, r = 0, g = 0, b = 0) {
    data[Y*Xmax*4 + X*4] = r;
    data[Y*Xmax*4 + X*4+1] = g;
    data[Y*Xmax * 4 + X*4+2] = b;
    data[Y*Xmax * 4 + X*4+3] = 255;
}
</script>